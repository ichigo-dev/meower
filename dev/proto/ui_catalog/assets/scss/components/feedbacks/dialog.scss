//------------------------------------------------------------------------------
//	UI dialog
//
//
//	# Usage
//
//	```html
//	<div class="ui_dialog">
//	 <div class="dialog">
//	  <div class="head">
//	   <h4>Dialog</h4>
//	  </div>
//	  <div class="body">
//	   <p>Content</p>
//	  </div>
//	  <div class="foot">
//	   <button class="ui_button primary text">Close</button>
//	  </div>
//	 </div>
//	</div>
//	```
//------------------------------------------------------------------------------

@use "../../functions/string" as string;
@use "../../themes/index" as themes;

body:has(.ui_dialog.open)
{
	overflow: hidden;
}

.ui_dialog
{
	display: inline-block;
	width: 100%;
	height: 100%;
	background-color: var(--color-shadow);
	border-radius: var(--radius-md);
	position: fixed;
	top: 50%;
	left: 50%;
	z-index: var(--z-index-dialog);
	opacity: 0;
	transform: translate(-50%, -50%);
	transition: all 0.3s 0s ease-in-out;
	pointer-events: none;

	&.open
	{
		opacity: 1;
		pointer-events: auto;
	}

	.dialog
	{
		display: flex;
		flex-direction: column;
		width: 60%;
		min-width: var(--size-8xl);
		max-height: 80%;
		background-color: var(--color-surface);
		border-radius: var(--radius-md);
		position: absolute;
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%);
		transition: all 0.3s 0s ease-in-out;
		overflow: hidden;


		//----------------------------------------------------------------------
		//	Content
		//----------------------------------------------------------------------

		.head
		{
			padding: var(--spacing-md);
			border-bottom: 1px solid var(--color-border);
			font-size: var(--fs-lg);
			font-weight: bold;
		}

		.body
		{
			overflow: auto;
			padding: var(--spacing-md);
		}

		.foot
		{
			display: flex;
			justify-content: flex-end;
			padding: var(--spacing-md);
			border-top: 1px solid var(--color-border);
		}
	}


	//--------------------------------------------------------------------------
	//	Sizes
	//--------------------------------------------------------------------------

	&.small
	{
		.dialog
		{
			width: 40%;
		}
	}

	&.large
	{
		.dialog
		{
			width: 80%;
		}
	}

	&.full
	{
		.dialog
		{
			width: 100%;
			height: 100%;
			max-height: none;

			.body
			{
				flex-grow: 1;
			}
		}
	}


	//--------------------------------------------------------------------------
	//	Colors
	//--------------------------------------------------------------------------

	@each $color in themes.$theme_colors
	{
		$class_name: string.str-replace(#{$color}, "-", "_");
		&.#{$class_name}
		{
			.dialog
			{
				.head
				{
					background-color: var(--color-#{$color});
					color: var(--color-#{$color}-text);
					border: none;
				}
			}
		}
	}


	//--------------------------------------------------------------------------
	//	Animations
	//--------------------------------------------------------------------------

	&.slidein
	{
		.dialog
		{
			top: 100%;
		}

		&.open
		{
			.dialog
			{
				top: 50%;
			}
		}
	}

	&.flash
	{
		transition: none;
	}
}
